{% extends 'base_dashboard.html' %}
{% block title %}Cashier Dashboard | Pet IMS{% endblock %}
{% block content %}
<div class="flex min-h-screen bg-base-100">
  <aside class="w-60 bg-base-200 border-r border-base-300 flex flex-col transition-all duration-300 ease-in-out" id="sidebar">
    <div class="flex items-center gap-3 p-6 pb-4">
      {% include 'svg/logo.svg' %}
      <span class="text-xl font-bold text-primary tracking-wide transition-opacity duration-200" id="sidebarAppname">CASHIER</span>
      <button class="ml-auto btn btn-ghost btn-sm" id="sidebarToggle" aria-label="Toggle sidebar">&#9776;</button>
    </div>
    <nav class="flex-1">
      <ul class="menu menu-lg bg-base-200 w-full">
        <li class="menu-item active"><a class="flex items-center gap-3 px-6 py-3 text-primary font-semibold bg-primary/10 rounded-r-3xl"><span class="w-6 h-6 flex items-center justify-center">{% include 'svg/dashboard.svg' %}</span> <span class="sidebar-label">Dashboard</span></a></li>
        <li class="menu-item"><a class="flex items-center gap-3 px-6 py-3 text-base-content hover:bg-base-300"><span class="w-6 h-6 flex items-center justify-center">{% include 'svg/new-sale.svg' %}</span> <span class="sidebar-label">New Sale</span></a></li>
        <li class="menu-item"><a class="flex items-center gap-3 px-6 py-3 text-base-content hover:bg-base-300"><span class="w-6 h-6 flex items-center justify-center">{% include 'svg/bill.svg' %}</span> <span class="sidebar-label">Sales History</span></a></li>
        <li class="menu-item"><a class="flex items-center gap-3 px-6 py-3 text-base-content hover:bg-base-300"><span class="w-6 h-6 flex items-center justify-center">{% include 'svg/inventory.svg' %}</span> <span class="sidebar-label">Inventory</span></a></li>
      </ul>
    </nav>
  </aside>
  <div class="flex-1 flex flex-col bg-base-100">
    <header class="navbar bg-base-100 border-b border-base-300 px-8 h-18 sticky top-0 z-10">
      <div class="flex items-center gap-3">
        <button class="btn btn-ghost btn-sm">{% include 'svg/back-arrow.svg' %}</button>
        <span class="text-xl font-semibold text-base-content">Cashier Dashboard</span>
      </div>
      <div class="flex-1 flex justify-center">
        <div class="alert alert-info">
          {% include 'svg/info.svg' %}
          <span>Logged in as: <strong>{{ user.username }}</strong></span>
        </div>
      </div>
      <div class="flex items-center gap-4">
        <div class="avatar">
          <div class="w-8 h-8 rounded-full bg-base-300 flex items-center justify-center">
            {% include 'svg/avatar.svg' %}
          </div>
        </div>
      </div>
    </header>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 p-6">
      <div class="card bg-primary text-primary-content shadow-lg">
        <div class="card-body text-center">
          <h3 class="card-title text-lg justify-center">New Sale</h3>
          <p class="text-sm opacity-80">Process a new customer sale.</p>
          <div class="card-actions justify-center mt-4">
            <button class="btn btn-secondary">Start</button>
          </div>
        </div>
      </div>
      <div class="card bg-base-100 shadow-lg border border-base-300">
        <div class="card-body text-center">
          <h3 class="card-title text-lg justify-center">Sales History</h3>
          <p class="text-sm text-base-content/70">View all completed sales.</p>
          <div class="card-actions justify-center mt-4">
            <button class="btn btn-outline">View</button>
          </div>
        </div>
      </div>
      <div class="card bg-base-100 shadow-lg border border-base-300">
        <div class="card-body text-center">
          <h3 class="card-title text-lg justify-center">Manage Inventory</h3>
          <p class="text-sm text-base-content/70">Check and update inventory.</p>
          <div class="card-actions justify-center mt-4">
            <button class="btn btn-success">Manage</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  document.getElementById('sidebarToggle').addEventListener('click', function() {
    const sidebar = document.getElementById('sidebar');
    const appname = document.getElementById('sidebarAppname');
    const labels = document.querySelectorAll('.sidebar-label');
    
    sidebar.classList.toggle('w-16');
    sidebar.classList.toggle('w-60');
    
    if (sidebar.classList.contains('w-16')) {
      appname.style.opacity = '0';
      appname.style.width = '0';
      appname.style.overflow = 'hidden';
      labels.forEach(label => label.style.display = 'none');
    } else {
      appname.style.opacity = '1';
      appname.style.width = 'auto';
      appname.style.overflow = 'visible';
      labels.forEach(label => label.style.display = 'block');
    }
  });
</script>
{% endblock %}